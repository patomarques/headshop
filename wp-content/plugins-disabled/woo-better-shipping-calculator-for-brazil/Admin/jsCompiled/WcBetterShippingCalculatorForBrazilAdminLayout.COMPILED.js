(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,o,r){return(o=function(t){var o=function(t){if("object"!=e(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(o)?o:o+""}(o))in t?Object.defineProperty(t,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[o]=r,t}jQuery(window).on("load",function(){var e=document.querySelector("#mainform");if(e){var o=Array.from(e.querySelectorAll("table.form-table")),r=Array.from(e.querySelectorAll("h2"));if(o.length&&r.length){var c=document.createElement("div");c.style.display="flex",c.style.flexWrap="wrap",c.style.boxSizing="border-box",c.style.marginTop="40px",c.style.gap="20px";var n=document.createElement("div");if(n.className="lkn-settings-content",n.style.flex="1",n.style.minWidth="500px",n.style.boxSizing="border-box","invalid"===WCBetterCalcWooVersion.status){var a=document.querySelector('input[name="woo_better_calc_enable_cart_page"]');if(a){var l=a.closest("tbody");if(l){var i=document.createElement("tr"),d=document.createElement("th");d.className="lkn-woo-spacer-row",d.textContent="";var _=document.createElement("td");_.style.padding="0px";var s=document.createElement("div");s.className="cart-warning-message",s.style.display="flex",s.style.alignItems="center",s.style.padding="10px",s.style.border="1px solid #ffcc00",s.style.borderLeftWidth="5px",s.style.borderLeftColor="#ffcc00",s.style.borderRadius="5px",s.style.backgroundColor="#fff8e1",s.style.color="#ff9800",s.style.fontSize="14px",s.style.lineHeight="1.5",s.style.verticalAlign="top",s.style.marginBottom="10px";var p=document.createElement("span");p.textContent="⚠️",p.style.marginRight="10px",p.style.fontSize="16px";var u=document.createElement("span");u.textContent="Personalização do campo do CEP está disponível a partir do WooCommerce 10+. Faça o download da versão mais recente para adquirir todas as novas funcionalidades.",s.appendChild(p),s.appendChild(u),_.appendChild(s),i.appendChild(d),i.appendChild(_),l.insertBefore(i,l.firstChild)}}}var b=document.createElement("div");b.className="lkn-settings-side",b.style.display="flex",b.style.flexDirection="column",b.style.width="400px",b.style.minWidth="200px",b.style.alignItems="center",b.style.justifyContent="flex-start",b.style.padding="32px 16px",b.style.boxSizing="border-box";var m=document.createElement("div");m.className="sticky-container",m.style.position="sticky",m.style.top="314px",m.style.maxWidth="370px";var y=S("✔️",["<strong>NOVO:</strong> Adicione a busca de CEP nas páginas de carrinho e/ou produto."]),f=S("✔️",["<strong>NOVO:</strong> O CEP informado pelo usuário é preservado até a finalização da compra e preenche automaticamente o endereço."]),v=document.querySelector("#WooBetterLinkSettingsCard");v&&(v.style.display="block",b.appendChild(v),m.appendChild(y),m.appendChild(f),b.appendChild(m)),c.appendChild(n),c.appendChild(b),r.forEach(function(e){return n.appendChild(e)}),o.forEach(function(e){return n.appendChild(e)});var w=e.querySelector(".submit");w&&w.before(c);var h=document.createElement("div");h.className="lkn-settings-tabs";var g=[];r.forEach(function(e,t){var o=document.createElement("a");o.textContent=e.textContent,o.href="#"+e.textContent.replace(/\s+/g,"-").toLowerCase(),o.className="nav-tab",o.onclick=function(e){e.preventDefault();var r=document.querySelector(".woo-better-floating-icon-container");"Carrinho"===o.textContent||"Produto"===o.textContent?r&&(r.style.display="flex"):r&&(r.style.display="none"),g.forEach(function(e,o){e.className=o===t?"nav-tab nav-tab-active":"nav-tab"}),I(t),window.location.hash=o.hash},h.appendChild(o),g.push(o),e.remove()}),o.forEach(function(e,t){var o,r=g[t].textContent.replace(/\s+/g,"-").toLowerCase(),c="woo_better_calc_title_"+r+"-description",n=document.getElementById(c);if(n&&!e.querySelector(".lkn-description-row")){var a=document.createElement("tr"),l=document.createElement("th");l.className="titledesc wooBetterCustomTitle",l.setAttribute("scope","row");var i=document.createElement("label");i.setAttribute("for",c);var d=(o=r).charAt(0).toUpperCase()+o.slice(1).toLowerCase();i.textContent=d,l.appendChild(i);var _=document.createElement("td");_.className="forminp",_.appendChild(n),a.appendChild(l),a.appendChild(_);var s=e.querySelector("tbody");s||(s=document.createElement("tbody"),e.appendChild(s)),s.insertBefore(a,s.firstChild)}}),g[0].className="nav-tab nav-tab-active",o[0].parentNode.insertBefore(h,o[0]),o.forEach(function(e,o){e.style.width="100%",e.querySelectorAll("th").forEach(function(e){e.style.paddingTop="68px"}),e.querySelectorAll("tr").forEach(function(e){var o=e.querySelector(".forminp");if(o){o.style.display="flex",o.style.flexDirection="column",o.style.width="auto",o.style.padding="15px 25px",o.style.backgroundColor="#fff",o.style.border="1px solid #dfdfdf",o.style.borderRadius="8px";var r=e.querySelector(".wooBetterCustomTitle");if(r){var c=document.createElement("p");c.textContent="Use shortcodes para adicionar funcionalidades específicas em temas clássicos.",c.style.fontWeight="normal",c.style.color="#343B45",r.style.paddingLeft=".5em",r.style.fontSize="20px",r.appendChild(c);var n=r.querySelector("label");if(n){var a=document.createElement("div");a.className="woo-forminp-header",a.style.minHeight="44px",n.style.color="#121519";var l=document.createElement("p");l.classList.add("woo-forminp-header-text"),l.style.fontWeight="bold",l.style.color="#121519",l.style.paddingLeft="6px",l.textContent=n.textContent.trim();var i=document.createElement("span");i.textContent="Shortcodes são úteis para temas que não utilizam o editor de blocos Gutenberg.",i.style.color="#343B45",i.style.fontSize="13px",i.style.paddingLeft="6px";var d=document.createElement("hr");d.style.border="none",d.style.borderTop="1px solid #ddd",d.style.margin="8px 0",a.appendChild(l),a.appendChild(i),a.appendChild(d);var _=document.createElement("div");for(_.className="woo-forminp-body",_.style.display="flex",_.style.flexDirection="column",_.style.justifyContent="center",_.style.padding="20px 0px",_.style.minHeight="50px",_.style.paddingLeft="6px";o.firstChild;)_.appendChild(o.firstChild);o.innerHTML="",o.appendChild(a),o.appendChild(_)}}var s=o.querySelector("input, select, textarea"),p="";if(s){var u,b=document.createElement("div");b.className="woo-forminp-header",b.style.minHeight="44px";var m=e.querySelector(".titledesc");if(m){var y=m.querySelector(".woocommerce-help-tip");y&&y.remove();var f=document.createElement("p");f.style.fontWeight="normal",f.style.color="#343B45",s.getAttribute("data-desc-tip")&&(f.textContent=s.getAttribute("data-desc-tip")),m.style.paddingLeft=".5em",(p=m.querySelector("label"))||m.textContent&&""!==m.textContent&&((p=document.createElement("label")).setAttribute("for",s.id||""),p.textContent=m.textContent,m.replaceChildren(p)),m.style.fontSize="20px",m.appendChild(f)}if(p){p.style.color="#121519";var v=document.createElement("p");v.classList.add("woo-forminp-header-text"),v.style.fontWeight="bold",v.style.color="#121519",v.style.paddingLeft="6px",s.getAttribute("data-subtitle")?v.textContent=s.getAttribute("data-subtitle"):v.textContent=p.textContent.trim();var w=document.createElement("span");s.getAttribute("data-title-description")&&(w.textContent=s.getAttribute("data-title-description")),w.style.color="#343B45",w.style.fontSize="13px",w.style.paddingLeft="6px";var h=document.createElement("hr");h.style.border="none",h.style.borderTop="1px solid #ddd",h.style.margin="8px 0",b.appendChild(v),b.appendChild(w),b.appendChild(h)}var g=document.createElement("div");g.className="woo-forminp-body",g.style.display="flex",g.style.flexDirection="column",g.style.justifyContent="center",g.style.padding="20px 0px",g.style.minHeight="50px",g.style.paddingLeft="6px";var x=null===(u=s.closest("fieldset"))||void 0===u?void 0:u.querySelector("p.description");x&&x.remove();var C=document.createElement("p");if(C.className="description",C.style.color="#8F8F8F",s.getAttribute("data-description")&&(C.textContent=s.getAttribute("data-description")),"input"===s.tagName.toLowerCase()&&("text"===s.type||"number"===s.type)||"select"===s.tagName.toLowerCase()||"textarea"===s.tagName.toLowerCase())s.style.width="100%",s.style.maxWidth="400px",s.style.boxSizing="border-box",s.style.color="#2C3338",g.appendChild(s);else if("input"!==s.tagName.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type)g.appendChild(s);else{var E=s.closest("fieldset");E?g.appendChild(E):g.appendChild(s)}if(g.appendChild(C),s.id.includes("postcode_current_style")){var k=s.id.includes("cart")?"cart":"product",S=document.createElement("div");S.classList.add("woo-better-container-current-style");var L=document.createElement("div");L.classList.add("woo-better-input-button-group-current-style");var B=document.createElement("div");B.classList.add("woo-better-input-wrapper-current-style");var I=t(t(t(t(t(t({},"woo_better_calc_".concat(k,"_input_background_color_field"),"backgroundColor"),"woo_better_calc_".concat(k,"_input_color_field"),"color"),"woo_better_calc_".concat(k,"_input_border_width"),"borderWidth"),"woo_better_calc_".concat(k,"_input_border_style"),"borderStyle"),"woo_better_calc_".concat(k,"_input_border_color_field"),"borderColor"),"woo_better_calc_".concat(k,"_input_border_radius"),"borderRadius"),N=document.getElementById("woo_better_calc_".concat(k,"_input_placeholder")),W=document.createElement("input");W.type="text",W.id="woo_better_calc_".concat(k,"_input_current_style_postcode_fake_custom"),W.placeholder=N?N.value:"Insira seu CEP",W.classList.add("woo-better-input-current-style"),W.style.cursor="pointer",W.readOnly=!0,W.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var t=document.getElementById("woo_better_calc_".concat(k,"_input_background_color_field_input"));t&&t.scrollIntoView({behavior:"smooth",block:"center"})}),Object.keys(I).forEach(function(e){var t=I[e],o=document.getElementById(e);o&&o.value&&(W.style[t]=o.value)});var q=document.querySelectorAll('input[name="woo_better_calc_'.concat(k,'_input_icon"]')),A=document.createElement("img");A.src=WCBetterCalcIcons.transit,A.alt="Ícone padrão",A.classList.add("woo-better-icon-current-style"),A.classList.add("woo-better-input-icon");var P=document.getElementById("woo_better_calc_".concat(k,"_input_icon_color"));P&&(P.addEventListener("change",function(){var e=P.value;document.querySelectorAll(".woo-better-input-icon").forEach(function(t){t.classList.remove("black-icon","gray-icon","red-icon","pink-icon","green-icon","blue-icon"),t.classList.add(e)})}),A.classList.add(P.value));var z=document.querySelector(".woo-better-input-wrapper-current-style");z&&z.appendChild(A),q.length>0&&q.forEach(function(e){e.addEventListener("change",function(){var t=e.value;WCBetterCalcIcons[t]&&(A.src=WCBetterCalcIcons[t],A.alt=t)}),e.checked&&WCBetterCalcIcons[e.value]&&(A.src=WCBetterCalcIcons[e.value],A.alt=e.value)}),B.appendChild(W),B.appendChild(A);var T=t(t(t(t(t(t({},"woo_better_calc_".concat(k,"_button_background_color_field"),"backgroundColor"),"woo_better_calc_".concat(k,"_button_color_field"),"color"),"woo_better_calc_".concat(k,"_button_border_width"),"borderWidth"),"woo_better_calc_".concat(k,"_button_border_style"),"borderStyle"),"woo_better_calc_".concat(k,"_button_border_color_field"),"borderColor"),"woo_better_calc_".concat(k,"_button_border_radius"),"borderRadius"),j=document.createElement("button");j.textContent="CONSULTAR",j.id="woo_better_calc_".concat(k,"_button_current_style_postcode_fake_custom"),j.classList.add("woo-better-button-current-style"),Object.keys(T).forEach(function(e){var t=T[e],o=document.getElementById(e);o&&o.value&&(j.style[t]=o.value)}),j.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var t=document.getElementById("woo_better_calc_".concat(k,"_button_background_color_field_input"));t&&t.scrollIntoView({behavior:"smooth",block:"center"})}),L.appendChild(B),L.appendChild(j),S.appendChild(L);var O=document.createElement("p");O.textContent="Não sei meu CEP",O.classList.add("woo-better-link-current-style"),S.appendChild(O),s.parentNode.insertBefore(S,s),s.remove()}if(s.id.includes("color_field")){var D=document.createElement("input");D.type="color",D.id=s.id+"_input",D.name=s.name+"_input",D.className="woo-better-color-field",D.value=s.value||"#000000",D.addEventListener("input",function(){s.value=D.value});var H=document.createElement("div");H.className="woo-better-color-wrapper",H.style.display="flex",H.style.alignItems="center",H.style.flexDirection="row",H.style.flexWrap="wrap",H.style.gap="10px";var R=s.nextElementSibling;R&&R.classList.contains("description")&&(R.style.fontSize="16px",R.style.margin="0",H.appendChild(R)),s.parentNode.insertBefore(H,s),H.appendChild(s),H.insertBefore(D,R||s),s.style.display="none"}var V={woo_better_min_free_shipping_value:"woo_better_enable_min_free_shipping",woo_better_hidden_cart_address:"woo_better_calc_cep_required",woo_better_calc_cart_input_border_width:"woo_better_calc_cart_input_background_color_field",woo_better_calc_cart_input_color_field:"woo_better_calc_cart_input_background_color_field",woo_better_calc_cart_input_border_style:"woo_better_calc_cart_input_background_color_field",woo_better_calc_cart_input_border_color_field:"woo_better_calc_cart_input_background_color_field",woo_better_calc_cart_input_border_radius:"woo_better_calc_cart_input_background_color_field",woo_better_calc_cart_button_color_field:"woo_better_calc_cart_button_background_color_field",woo_better_calc_cart_button_border_width:"woo_better_calc_cart_button_background_color_field",woo_better_calc_cart_button_border_style:"woo_better_calc_cart_button_background_color_field",woo_better_calc_cart_button_border_color_field:"woo_better_calc_cart_button_background_color_field",woo_better_calc_cart_button_border_radius:"woo_better_calc_cart_button_background_color_field",woo_better_calc_cart_input_icon:"woo_better_calc_cart_input_placeholder",woo_better_calc_cart_input_icon_color:"woo_better_calc_cart_input_placeholder",woo_better_calc_cart_custom_position:"woo_better_calc_cart_input_position",woo_better_calc_cart_custom_remove:"woo_better_calc_cart_custom_quantity",woo_better_calc_product_input_border_width:"woo_better_calc_product_input_background_color_field",woo_better_calc_product_input_color_field:"woo_better_calc_product_input_background_color_field",woo_better_calc_product_input_border_style:"woo_better_calc_product_input_background_color_field",woo_better_calc_product_input_border_color_field:"woo_better_calc_product_input_background_color_field",woo_better_calc_product_input_border_radius:"woo_better_calc_product_input_background_color_field",woo_better_calc_product_button_color_field:"woo_better_calc_product_button_background_color_field",woo_better_calc_product_button_border_width:"woo_better_calc_product_button_background_color_field",woo_better_calc_product_button_border_style:"woo_better_calc_product_button_background_color_field",woo_better_calc_product_button_border_color_field:"woo_better_calc_product_button_background_color_field",woo_better_calc_product_button_border_radius:"woo_better_calc_product_button_background_color_field",woo_better_calc_product_input_icon:"woo_better_calc_product_input_placeholder",woo_better_calc_product_input_icon_color:"woo_better_calc_product_input_placeholder",woo_better_calc_product_custom_position:"woo_better_calc_product_input_position"};if(o.innerHTML="",o.appendChild(b),o.appendChild(g),s.name&&V[s.name]){var F=V[s.name],M=document.querySelector('[name="'.concat(F,'"]'));if(M){var U=M.closest(".woo-forminp-body");U&&(g.style.minHeight="auto",o.style.padding="0px",o.style.margin="0px",o.style.paddingTop="15px",o.style.marginTop="10px",o.style.border="none",o.style.marginLeft="-6px",U.appendChild(o),e.remove())}}}}})}),L("cart"),L("product"),B("cart"),B("product"),"invalid"===WCBetterCalcWooVersion.status&&document.querySelectorAll('input[name*="enable_cart"], input[name*="cart_input"], select[name*="cart_input"], select[name*="cart_button"], input[name*="cart_button"]').forEach(function(e){e.disabled=!0,e.style.cursor="not-allowed"});var x=document.createElement("div");x.className="woo-better-floating-icon-container";var C=document.createElement("img");C.src=WCBetterCalcIcons.consult,C.alt="Ir para o componente",C.title="Ir para o componente",C.className="woo-better-floating-icon",x.addEventListener("click",function(){var e=window.location.hash,t="";if(e.includes("carrinho")?t="cart":e.includes("produto")&&(t="product"),t){var o=document.getElementById("woo_better_calc_".concat(t,"_input_current_style_postcode_fake_custom"));o&&(o.scrollIntoView({behavior:"smooth",block:"center"}),o.style.transition="box-shadow 0.3s ease",o.style.boxShadow="0 0 10px 2px #0073aa",setTimeout(function(){o.style.boxShadow="none"},1e3))}else alert("Componente disponível apenas nas abas de Carrinho ou Produto.")}),x.appendChild(C),document.body.appendChild(x),I(0);var E=window.location.hash;if(E){var k=g.findIndex(function(e){return e.href.endsWith(E)});k>=0&&g[k].click()}}}function S(e,t){var o=document.createElement("div");o.className="custom-feature-message";var r=document.createElement("span");r.textContent=e,r.style.marginRight="10px",r.style.fontSize="16px";var c=document.createElement("div");return c.style.display="flex",c.style.flexDirection="column",t.forEach(function(e){var t=document.createElement("span");t.innerHTML=e,t.style.marginBottom="5px",c.appendChild(t)}),o.appendChild(r),o.appendChild(c),o}function L(e){var o=t(t(t(t(t(t({},"woo_better_calc_".concat(e,"_input_background_color_field_input"),{property:"background-color",default:"#ffffff"}),"woo_better_calc_".concat(e,"_input_color_field_input"),{property:"color",default:"#2C3338"}),"woo_better_calc_".concat(e,"_input_border_width"),{property:"border-width",default:"1px"}),"woo_better_calc_".concat(e,"_input_border_style"),{property:"border-style",default:"solid"}),"woo_better_calc_".concat(e,"_input_border_color_field_input"),{property:"border-color",default:"#ccc"}),"woo_better_calc_".concat(e,"_input_border_radius"),{property:"border-radius",default:"4px"}),r=["px","%","em","rem","vh","vw","vmin","vmax","cm","mm","in","pt","pc","ex","ch"],c=document.getElementById("woo_better_calc_".concat(e,"_input_current_style_postcode_fake_custom"));c&&Object.keys(o).forEach(function(e){var t=o[e],n=t.property,a=t.default,l=document.getElementById(e);l&&(l.addEventListener("change",function(){var e=l.value;if("text"===l.type&&!new RegExp("^\\d+(\\.\\d+)?(".concat(r.join("|"),")$")).test(e))return l.value=a,void c.style.setProperty(n,a,"important");c.style.setProperty(n,e,"important")}),c.style.setProperty(n,a,"important"))});var n=t(t(t(t(t(t({},"woo_better_calc_".concat(e,"_button_background_color_field_input"),{property:"background-color",default:"#0073aa"}),"woo_better_calc_".concat(e,"_button_color_field_input"),{property:"color",default:"#ffffff"}),"woo_better_calc_".concat(e,"_button_border_width"),{property:"border-width",default:"1px"}),"woo_better_calc_".concat(e,"_button_border_style"),{property:"border-style",default:"none"}),"woo_better_calc_".concat(e,"_button_border_color_field_input"),{property:"border-color",default:"transparent"}),"woo_better_calc_".concat(e,"_button_border_radius"),{property:"border-radius",default:"4px"}),a=["px","%","em","rem","vh","vw","vmin","vmax","cm","mm","in","pt","pc","ex","ch"],l=document.querySelector("#woo_better_calc_".concat(e,"_button_current_style_postcode_fake_custom"));l&&Object.keys(n).forEach(function(e){var t=n[e],o=t.property,r=t.default,c=document.getElementById(e);c&&c.addEventListener("change",function(){var e=c.value;if("text"===c.type&&!new RegExp("^\\d + (\\.\\d +) ? (".concat(a.join("|"),")$")).test(e))return c.value=r,void l.style.setProperty(o,r,"important");l.style.setProperty(o,e,"important")})});var i=document.getElementById("woo_better_calc_".concat(e,"_input_placeholder")),d=document.getElementById("woo_better_calc_".concat(e,"_input_current_style_postcode_fake_custom"));i&&d&&i.addEventListener("change",function(){var e=i.value;d.placeholder=e});var _={transit:WCBetterCalcIcons.transit,bill:WCBetterCalcIcons.bill,truck:WCBetterCalcIcons.truck,postcode:WCBetterCalcIcons.postcode,zipcode:WCBetterCalcIcons.zipcode},s=document.querySelectorAll('input[name="woo_better_calc_'.concat(e,'_input_icon"]'));s.length>0&&s.forEach(function(t){var o=t.value;if(_[o]){var r=document.createElement("img");r.src=_[o],r.alt=o,r.style.width="40px",r.style.height="40px",r.style.marginLeft="10px",r.classList.add("woo-better-input-icon");var c=document.getElementById("woo_better_calc_".concat(e,"_input_icon_color"));r.classList.add(c?c.value:"black-icon");var n=t.closest("label");n&&(n.textContent="",n.appendChild(t),n.appendChild(r),n.style.display="flex",n.style.alignItems="center",n.style.setProperty("margin","14px 0","important"))}})}function B(e){var t=document.getElementById("woo_better_calc_".concat(e,"_custom_position")),o=document.getElementById("woo_better_calc_".concat(e,"_input_position"));if(t&&o){var r=t.closest(".forminp");r&&("custom"===o.value?r.style.display="flex":r.style.display="none")}o&&o.addEventListener("change",function(){var e=o.value;if(t){var r=t.closest(".forminp");r&&(r.style.display="custom"===e?"flex":"none")}})}function I(e){o.forEach(function(t,o){t.style.display=o===e?"table":"none"})}})})();